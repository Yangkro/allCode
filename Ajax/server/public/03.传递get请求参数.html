<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<p>
		<input type="text" id="username">
	</p>
	<p>
		<input type="text" id="age">
	</p>
	<p>
		<input type="button" value="提交" id="btn">
	</p>
	<h2></h2>
	<script type="text/javascript">
		// // 获取按钮元素
		// var btn = document.getElementById('btn');
		// // 获取姓名文本框
		// var username = document.getElementById('username');
		// // 获取年龄文本框
		// var age = document.getElementById('age');
		// // 为按钮添加点击事件
		// btn.onclick = function () {
		// 	// 创建ajax对象
		// 	var xhr = new XMLHttpRequest();
		// 	// 获取用户在文本框中输入的值
		// 	var nameValue = username.value;
		// 	var ageValue = age.value;
		// 	// 拼接请求参数
		// 	var params = 'username='+ nameValue +'&age=' + ageValue;
		// 	// 配置ajax对象
		// 	xhr.open('get', 'http://localhost:3000/get?'+params);
		// 	// 发送请求
		// 	xhr.send();
		// 	// 获取服务器端响应的数据
		// 	xhr.onload = function () {
		// 		console.log(xhr.responseText)
		// 	}
		// }
			// 获取表单元素
			let username = document.getElementById('username')
			let age = document.getElementById('age')
			let btn = document.getElementById('btn')
			btn.addEventListener('click', function(){
				// 创建Ajax对象
				let xhr = new XMLHttpRequest()
				let nameValue = username.value
				let ageValue = age.value
				// 拼接	请求参数
				let params = `username=${nameValue}&age=${ageValue}`
				// 配置Ajax对象
				xhr.open('get', 'http://localhost:3000/get?'+params)
				// 发送请求
				xhr.send()
				// 获取服务器内容
				xhr.onload = function(){
					console.log(xhr.responseText)
					let responseText = JSON.parse(xhr.responseText)
					let h2 = document.getElementsByTagName('h2')[0]
					let inner = `Name: ${responseText.username} age: ${responseText.age}`
					h2.innerHTML = inner
				}
			})
	</script>
</body>
</html>