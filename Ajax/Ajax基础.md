#### Ajax的特点
它是浏览器提供的一套可以实现页面不刷新更新数据的方法，可以极大地提高用户浏览网站应用的体验。

##### Ajax的优点
  - 不需要插件的支持（一般浏览器默认开启JavaScript）
  - 用户体验好（不刷新页面就可以获取可更新的数据）
  - 提升Web程序的性能（传送数据的时候做到了按需发送，不必整体提交）
  - 减轻服务器的带宽和负载（将服务器的一些操作转移到客户端）

##### Ajax的缺点
  - 前进、后退的功能被破坏（因为Ajax永远在当前页，不会记录前后页面）
  - 搜索引擎的支持度不够（因为搜索引擎爬虫还不能理解JS引起变化数据的内容）

##### Ajax的引用场景
  - 页面上拉加载更多数据
  - 列表数据无刷新分页
  - 表单项离开焦点数据验证
  - 搜索框提示文字下拉列表

##### Ajax运行环境
Ajax技术需要运行在网站环境中才能生效

##### Ajax的运行原理
Ajax相当于浏览器发送请求和接收请求的代理人，以实现在不影响用户浏览页面的情况下，局部的更新页面数据。

##### Ajax的实现步骤
  - 创建Ajax对象`let xhr = new XMLHttpRequest`
  - 告诉Ajax请求地址以及请求方式`xhr.open('get', 'url')`
  - 发送请求`xhr.send()`
  - 获取服务器发送给客户端的响应数据`xhr.onload = function(){ console,log(xhr.responseText)}`

##### 服务器响应的数据格式
在真实的项目，服务器大多数情况下会以JSON对象作为响应数据的格式，当客户端拿到响应数据时，要将JSON数据和HTML字符进行拼接，然后将拼接的结果展示在页面中

##### Ajax请求参数的传递
  - get请求
  参数放在请求地址后面，并且用`?`进行分割；多个参数之间用`&`进行连接
  - post请求
  post请求内容放在请求体中 

##### 请求参数的格式
  - 字符串形式application/x-www-form-urlencoded
    `name=zhangsan&age=14`
  - JSON数据格式aapplication/json
    `{'name':'zhangsan', 'age':14}`
  传统的网页中使用的都是字符串的形式，而且get方法是不支持JSON的

##### 获取服务器端的响应
 - Ajax的状态码
 在创建Ajax对象，配置Ajax对象，发送请求，以及接受完服务器响应数据，这个过程中的每一个步骤都会对应一个数值，该数值就是Ajax状态码（可以使用`xhr.readyState`来获取状态码）
  - 0：请求未初始化（还没有调用open）
  - 1：请求已经建立，但是还没有发送（还没有调用send方法）
  - 2：请求已经发送
  - 3：请求正在处理中，通常响应中已经有部分数据可以使用了
  - 4：响应已经完成，可以获取并使用服务器的响应了
  - onreadystatechange事件
   当Ajax的状态发生改变时会自动触发该事件

##### Ajax错误处理
 - 网络通畅，服务器正常接受到请求，但返回的不是预期的结果可以判断服务器返回的状态码，分别进行处理。（使用`xhr.status`来获取http状态码）
 - 网络畅通，服务器端没有收到请求，返回404状态码
  直接检查地址是否错误
- 网络畅通，500状态码，一般是服务器错误
- 网络中断，请求无法发送到服务器端
  不会触发xhr的onload事件，但是会触发xhr的onerror事件，我们可以在onerror事件中对错误进行处理

##### Ajax在低版本IE浏览器的缓存问题
当请求的地址不发生改变的时候，只有第一次请求会真正的发送请求到服务器，后续的请求都会从浏览器的缓存中获取结果。即使服务器端的数据类容更新了，客户端的内容依旧不会更新

##### Ajax封装
见server.js

##### FormData对象
 * 优点：
  - 可以模拟HTML，相当于将HTML表单映射成表单对象，自动的将表单对象中的数据拼接成请求参数的格式
  - 可以实现异步上传二进制文件
* 创建FormData对象
  `let form = new FormData('表单id')`
- FormData对象的实例对象的方法
  - `get(key)`key为表单中的name属性
  - `set(key, value)`设置表单对象的属性值，<font color="red">如果需要设置的属性不存在，那么会添加新的表单属性</font>
  - `delete(key)`删除表单中的属性值
  - `append(key, value)`向表单对象中追加属性值
    - `set`和`append`的区别：在属性名已经存在的情况下，set会覆盖已经存在的键名的值，append会保留两个值
 * FormData二进制文件上传
 

